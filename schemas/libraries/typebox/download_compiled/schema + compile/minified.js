var e=Object.defineProperty,t=(t,n)=>{let r={};for(var i in t)e(r,i,{get:t[i],enumerable:!0});return n||e(r,Symbol.toStringTag,{value:`Module`}),r};const n={assign:0,create:0,clone:0,discard:0,update:0};function r(e,t,n){return e>=t&&e<=n}function i(e){return r(e,127462,127487)}function a(e){return r(e,65024,65039)}function o(e){return r(e,768,879)||r(e,6832,6911)||r(e,7616,7679)||r(e,65056,65071)}function s(e){return e>65535?2:1}function c(e,t){for(;t<e.length;){let n=e.codePointAt(t);if(o(n)||a(n))t+=s(n);else break}return t}function l(e,t){let n=e.codePointAt(t),r=t+s(n);for(r=c(e,r);r<e.length-1&&e[r]===`‍`;){let t=e.codePointAt(r+1);r+=1+s(t),r=c(e,r)}return i(n)&&r<e.length&&i(e.codePointAt(r))&&(r+=s(e.codePointAt(r))),r}function u(e){return r(e,55296,56319)||r(e,768,879)||e===8205}function ee(e){let t=0,n=0;for(;n<e.length;)n=l(e,n),t++;return t}function te(e,t){if(t===0)return!0;let n=0,r=0;for(;r<e.length;)if(r=l(e,r),n++,n>=t)return!0;return!1}function ne(e,t){let n=0,r=0;for(;r<e.length;)if(r=l(e,r),n++,n>t)return!1;return!0}function re(e,t){if(t===0)return!0;let n=0;for(;n<e.length;){if(u(e.charCodeAt(n)))return te(e,t);if(n++,n>=t)return!0}return!1}function ie(e,t){let n=0;for(;n<e.length;){if(u(e.charCodeAt(n)))return ne(e,t);if(n++,n>t)return!1}return!0}var ae=t({Entries:()=>C,EntriesRegExp:()=>Ce,Every:()=>b,EveryAll:()=>x,GraphemeCount:()=>be,HasPropertyKey:()=>S,IsArray:()=>d,IsAsyncIterator:()=>oe,IsBigInt:()=>f,IsBoolean:()=>se,IsClassInstance:()=>ve,IsConstructor:()=>ce,IsDeepEqual:()=>Oe,IsEqual:()=>v,IsFunction:()=>p,IsGreaterEqualThan:()=>ge,IsGreaterThan:()=>me,IsInteger:()=>le,IsIterator:()=>ue,IsLessEqualThan:()=>y,IsLessThan:()=>he,IsMaxLength:()=>xe,IsMinLength:()=>Se,IsMultipleOf:()=>_e,IsNull:()=>de,IsNumber:()=>m,IsObject:()=>h,IsObjectNotArray:()=>fe,IsString:()=>g,IsSymbol:()=>pe,IsUndefined:()=>_,IsValueLike:()=>ye,Keys:()=>w,Symbols:()=>we,Values:()=>Te});function d(e){return Array.isArray(e)}function oe(e){return h(e)&&Symbol.asyncIterator in e}function f(e){return v(typeof e,`bigint`)}function se(e){return v(typeof e,`boolean`)}function ce(e){if(_(e)||!p(e))return!1;let t=Function.prototype.toString.call(e);return!!(/^class\s/.test(t)||/\[native code\]/.test(t))}function p(e){return v(typeof e,`function`)}function le(e){return Number.isInteger(e)}function ue(e){return h(e)&&Symbol.iterator in e}function de(e){return v(e,null)}function m(e){return Number.isFinite(e)}function fe(e){return h(e)&&!d(e)}function h(e){return v(typeof e,`object`)&&!de(e)}function g(e){return v(typeof e,`string`)}function pe(e){return v(typeof e,`symbol`)}function _(e){return v(e,void 0)}function v(e,t){return e===t}function me(e,t){return e>t}function he(e,t){return e<t}function y(e,t){return e<=t}function ge(e,t){return e>=t}function _e(e,t){if(f(e)||f(t))return BigInt(e)%BigInt(t)===0n;if(!m(e)||le(e)&&1/t%1==0)return!0;let n=e%t;return Math.min(Math.abs(n),Math.abs(n-t))<1e-10}function ve(e){if(!h(e))return!1;let t=globalThis.Object.getPrototypeOf(e);return de(t)?!1:v(typeof t.constructor,`function`)&&!(v(t.constructor,globalThis.Object)||v(t.constructor.name,`Object`))}function ye(e){return f(e)||se(e)||de(e)||m(e)||g(e)||_(e)}function be(e){return ee(e)}function xe(e,t){return ie(e,t)}function Se(e,t){return re(e,t)}function b(e,t,n){for(let r=t;r<e.length;r++)if(!n(e[r],r))return!1;return!0}function x(e,t,n){let r=!0;for(let i=t;i<e.length;i++)n(e[i],i)||(r=!1);return r}function S(e,t){return v(t,`__proto__`)||v(t,`constructor`)?Object.prototype.hasOwnProperty.call(e,t):t in e}function Ce(e){return w(e).map(t=>[RegExp(`^${t}$`),e[t]])}function C(e){return Object.entries(e)}function w(e){return Object.getOwnPropertyNames(e)}function we(e){return Object.getOwnPropertySymbols(e)}function Te(e){return Object.values(e)}function Ee(e,t){if(!h(t))return!1;let n=w(e);return v(n.length,w(t).length)&&n.every(n=>Oe(e[n],t[n]))}function De(e,t){return d(t)&&v(e.length,t.length)&&e.every((n,r)=>Oe(e[r],t[r]))}function Oe(e,t){return d(e)?De(e,t):h(e)?Ee(e,t):v(e,t)}const ke=/^[\p{ID_Start}_$][\p{ID_Continue}_$\u200C\u200D]*$/u;function Ae(e){return ke.test(e)}function T(e,t){return`(${e} && ${t})`}function E(e,t){return`(${e} || ${t})`}function D(e){return`!(${e})`}function je(e){return`Array.isArray(${e})`}function Me(e){return`Guard.IsAsyncIterator(${e})`}function Ne(e){return`typeof ${e} === "bigint"`}function Pe(e){return`typeof ${e} === "boolean"`}function Fe(e){return`Number.isInteger(${e})`}function Ie(e){return`Guard.IsIterator(${e})`}function Le(e){return`${e} === null`}function Re(e){return`Number.isFinite(${e})`}function ze(e){return T(Be(e),D(je(e)))}function Be(e){return`typeof ${e} === "object" && ${e} !== null`}function Ve(e){return`typeof ${e} === "string"`}function He(e){return`typeof ${e} === "symbol"`}function Ue(e){return`${e} === undefined`}function We(e){return`typeof ${e} === "function"`}function Ge(e){return`Guard.IsConstructor(${e})`}function O(e,t){return`${e} === ${t}`}function Ke(e,t){return`${e} > ${t}`}function qe(e,t){return`${e} < ${t}`}function Je(e,t){return`${e} <= ${t}`}function Ye(e,t){return`${e} >= ${t}`}function Xe(e,t){return`Guard.IsMinLength(${e}, ${t})`}function Ze(e,t){return`Guard.IsMaxLength(${e}, ${t})`}function k(e,t,n,r){return v(t,`0`)?`${e}.every((${n[0]}, ${n[1]}) => ${r})`:`((value, callback) => { for(let index = ${t}; index < value.length; index++) if (!callback(value[index], index)) return false; return true })(${e}, (${n[0]}, ${n[1]}) => ${r})`}function Qe(e){return`Object.entries(${e})`}function A(e){return`Object.getOwnPropertyNames(${e})`}function j(e,t){return v(t,`"__proto__"`)||v(t,`"constructor"`)?`Object.prototype.hasOwnProperty.call(${e}, ${t})`:`${t} in ${e}`}function $e(e,t){return`Guard.IsDeepEqual(${e}, ${t})`}function et(e){return`[${e.join(`, `)}]`}function M(e,t){return`((${e.join(`, `)}) => ${t})`}function N(e,t){return`${e}(${t.join(`, `)})`}function tt(e,t){return`new ${e}(${t.join(`, `)})`}function P(e,t){return`${e}${Ae(t)?`.${t}`:`[${F(t)}]`}`}function F(e){return g(e)?JSON.stringify(e):`${e}`}function nt(e,t,n){return`(${e} ? ${t} : ${n})`}function rt(e){return`{ ${e.join(`; `)}; }`}function I(e,t){return`const ${e} = ${t}`}function it(e,t){return`if(${e}) { ${t} }`}function at(e){return`return ${e}`}function L(e){return v(e.length,0)?`true`:e.reduce((e,t)=>T(e,t))}function ot(e){return v(e.length,0)?`false`:e.reduce((e,t)=>E(e,t))}function st(e){return`++${e}`}function ct(e,t){return`Guard.IsMultipleOf(${e}, ${t})`}function lt(e){return e instanceof Boolean}function ut(e){return e instanceof Number}function dt(e){return e instanceof String}function ft(e){return globalThis.ArrayBuffer.isView(e)}function pt(e){return e instanceof globalThis.RegExp}function mt(e){return e instanceof globalThis.Date}function ht(e){return h(e)&&S(e,`~guard`)}function gt(e){return e}function _t(e){return e.map(e=>xt(e))}function vt(e){let t={},n=Object.getOwnPropertyDescriptors(e);for(let e of Object.keys(n)){let r=n[e];S(r,`value`)&&Object.defineProperty(t,e,{...r,value:xt(r.value)})}return t}function yt(e){return new RegExp(e.source,e.flags)}function bt(e){return e}function xt(e){return e instanceof RegExp?yt(e):ht(e)?gt(e):d(e)?_t(e):h(e)?vt(e):bt(e)}function St(e){return n.clone+=1,xt(e)}const Ct={immutableTypes:!1,maxErrors:8,useEval:!0,exactOptionalPropertyTypes:!1,enumerableKind:!1,correctiveParse:!1};function wt(){return Ct}function Tt(e,t,n={}){for(let n of Object.keys(t))Object.defineProperty(e,n,{configurable:!0,writable:!0,enumerable:!1,value:t[n]});return e}function Et(e,t){return{...e,...t}}function R(e,t,r={}){n.create+=1;let i=wt(),a=Et(t,r),o=i.enumerableKind?Et(a,e):Tt(a,e);return i.immutableTypes?Object.freeze(o):o}function Dt(e,t,r){n.update+=1;let i=wt(),a=St(e);for(let e of Object.keys(t))Object.defineProperty(a,e,{configurable:!0,writable:!0,enumerable:i.enumerableKind,value:t[e]});for(let e of Object.keys(r))Object.defineProperty(a,e,{configurable:!0,enumerable:!0,writable:!0,value:r[e]});return a}function Ot(e){return h(e)}function kt(e){return Ot(e)&&S(e,`~optional`)}function At(e,t){return R({"~kind":`Array`},{type:`array`,items:e},t)}function jt(e,t){return t[e.length]?.(...e)??(()=>{throw Error(`Invalid Arguments`)})()}function Mt(e){return fe(e)}function Nt(e){return w(e).filter(e=>isNaN(e)).reduce((t,n)=>[...t,e[n]],[])}function Pt(e,t){let n=Mt(e)?Nt(e):e;return R({"~kind":`Enum`},{enum:n},t)}function Ft(){throw Error(`Unreachable`)}let It;function Lt(){try{return new globalThis.Function(`null`)(),!0}catch{return!1}}function Rt(){return _(It)&&(It=Lt()),It&&wt().useEval}var zt=t({Hash:()=>fn,HashCode:()=>dn});function Bt(e){let t=new Set,n=e;for(;n&&n!==Object.prototype;){for(let e of Reflect.ownKeys(n))e!==`constructor`&&typeof e!=`symbol`&&t.add(e);n=Object.getPrototypeOf(n)}return[...t]}function Vt(e){return typeof e==`number`}var z;(function(e){e[e.Array=0]=`Array`,e[e.BigInt=1]=`BigInt`,e[e.Boolean=2]=`Boolean`,e[e.Date=3]=`Date`,e[e.Constructor=4]=`Constructor`,e[e.Function=5]=`Function`,e[e.Null=6]=`Null`,e[e.Number=7]=`Number`,e[e.Object=8]=`Object`,e[e.RegExp=9]=`RegExp`,e[e.String=10]=`String`,e[e.Symbol=11]=`Symbol`,e[e.TypeArray=12]=`TypeArray`,e[e.Undefined=13]=`Undefined`})(z||={});let Ht=BigInt(`14695981039346656037`);const[Ut,Wt]=[BigInt(`1099511628211`),BigInt(`18446744073709551616`)],Gt=Array.from({length:256}).map((e,t)=>BigInt(t)),Kt=new Float64Array(1),qt=new DataView(Kt.buffer),Jt=new Uint8Array(Kt.buffer);function B(e){Ht^=Gt[e],Ht=Ht*Ut%Wt}function Yt(e){B(z.Array);for(let t of e)V(t)}function Xt(e){B(z.BigInt),qt.setBigInt64(0,e);for(let e of Jt)B(e)}function Zt(e){B(z.Boolean),B(e?1:0)}function Qt(e){B(z.Constructor),V(e.toString())}function $t(e){B(z.Date),V(e.getTime())}function en(e){B(z.Function),V(e.toString())}function tn(e){B(z.Null)}function nn(e){B(z.Number),qt.setFloat64(0,e,!0);for(let e of Jt)B(e)}function rn(e){B(z.Object);for(let t of Bt(e).sort())V(t),V(e[t])}function an(e){B(z.RegExp),sn(e.toString())}const on=new TextEncoder;function sn(e){B(z.String);for(let t of on.encode(e))B(t)}function cn(e){B(z.Symbol),V(e.toString())}function ln(e){B(z.TypeArray);let t=new Uint8Array(e.buffer);for(let e=0;e<t.length;e++)B(t[e])}function un(e){return B(z.Undefined)}function V(e){return ft(e)?ln(e):mt(e)?$t(e):pt(e)?an(e):lt(e)?Zt(e.valueOf()):dt(e)?sn(e.valueOf()):ut(e)?nn(e.valueOf()):Vt(e)?nn(e):d(e)?Yt(e):se(e)?Zt(e):f(e)?Xt(e):ce(e)?Qt(e):de(e)?tn(e):h(e)?rn(e):g(e)?sn(e):pe(e)?cn(e):_(e)?un(e):p(e)?en(e):Ft()}function dn(e){return Ht=BigInt(`14695981039346656037`),V(e),Ht}function fn(e){return dn(e).toString(16).padStart(16,`0`)}function pn(e){switch(e.keyword){case`additionalProperties`:return`must not have additional properties`;case`anyOf`:return`must match a schema in anyOf`;case`boolean`:return`schema is false`;case`const`:return`must be equal to constant`;case`contains`:return`must contain at least 1 valid item`;case`dependencies`:return`must have properties ${e.params.dependencies.join(`, `)} when property ${e.params.property} is present`;case`dependentRequired`:return`must have properties ${e.params.dependencies.join(`, `)} when property ${e.params.property} is present`;case`enum`:return`must be equal to one of the allowed values`;case`exclusiveMaximum`:return`must be ${e.params.comparison} ${e.params.limit}`;case`exclusiveMinimum`:return`must be ${e.params.comparison} ${e.params.limit}`;case`format`:return`must match format "${e.params.format}"`;case`if`:return`must match "${e.params.failingKeyword}" schema`;case`maxItems`:return`must not have more than ${e.params.limit} items`;case`maxLength`:return`must not have more than ${e.params.limit} characters`;case`maxProperties`:return`must not have more than ${e.params.limit} properties`;case`maximum`:return`must be ${e.params.comparison} ${e.params.limit}`;case`minItems`:return`must not have fewer than ${e.params.limit} items`;case`minLength`:return`must not have fewer than ${e.params.limit} characters`;case`minProperties`:return`must not have fewer than ${e.params.limit} properties`;case`minimum`:return`must be ${e.params.comparison} ${e.params.limit}`;case`multipleOf`:return`must be multiple of ${e.params.multipleOf}`;case`not`:return`must not be valid`;case`oneOf`:return`must match exactly one schema in oneOf`;case`pattern`:return`must match pattern "${e.params.pattern}"`;case`propertyNames`:return`property names ${e.params.propertyNames.join(`, `)} are invalid`;case`required`:return`must have required properties ${e.params.requiredProperties.join(`, `)}`;case`type`:return typeof e.params.type==`string`?`must be ${e.params.type}`:`must be either ${e.params.type.join(` or `)}`;case`unevaluatedItems`:return`must not have unevaluated items`;case`unevaluatedProperties`:return`must not have unevaluated properties`;case`uniqueItems`:return`must not have duplicate items`;case`~guard`:return`must match check function`;case`~refine`:return e.params.message;default:return`an unknown validation error occurred`}}let mn=pn;function hn(){return mn}function gn(e,t){let n=vn(e)?[...e[`~refine`],t]:[t];return Dt(e,{"~refine":n},{})}function _n(e,t,n=`error`){return gn(e,{refine:t,message:n})}function vn(e){return Ot(e)&&S(e,`~refine`)}function yn(e){return R({"~kind":`Null`},{type:`null`},e)}function H(e){return R({"~kind":`Number`},{type:`number`},e)}function bn(e){return w(e).filter(t=>!kt(e[t]))}function xn(e,t={}){let n=bn(e),r=n.length>0?{required:n}:{};return R({"~kind":`Object`},{type:`object`,...r,properties:e},t)}function U(e){return R({"~kind":`String`},{type:`string`},e)}function Sn(e,t={}){return R({"~kind":`Union`},{anyOf:e},t)}function Cn(e){return R({"~kind":`Unsafe`},{},e)}function wn(e,t){return Array.from({length:t-e+1},(t,n)=>String.fromCharCode(e+n))}const Tn=[...wn(97,122),...wn(65,90)],En=[`0`,...wn(49,57)];[...En],[...[...Tn,`_`,`$`],...En],[...En];function Dn(e){return h(e)&&S(e,`check`)&&S(e,`errors`)&&p(e.check)&&p(e.errors)}function On(e){return S(e,`~guard`)&&Dn(e[`~guard`])}function kn(e){return S(e,`~refine`)&&d(e[`~refine`])&&b(e[`~refine`],0,e=>h(e)&&S(e,`refine`)&&S(e,`message`)&&p(e.refine)&&g(e.message))}function W(e){return h(e)&&!d(e)}function An(e){return se(e)}function G(e){return W(e)||An(e)}function jn(e){return S(e,`additionalItems`)&&G(e.additionalItems)}function Mn(e){return S(e,`additionalProperties`)&&G(e.additionalProperties)}function Nn(e){return S(e,`allOf`)&&d(e.allOf)&&e.allOf.every(e=>G(e))}function Pn(e){return S(e,`$anchor`)&&g(e.$anchor)}function Fn(e){return S(e,`anyOf`)&&d(e.anyOf)&&e.anyOf.every(e=>G(e))}function In(e){return S(e,`const`)}function Ln(e){return S(e,`contains`)&&G(e.contains)}function Rn(e){return S(e,`dependencies`)&&h(e.dependencies)&&Object.values(e.dependencies).every(e=>G(e)||d(e)&&e.every(e=>g(e)))}function zn(e){return S(e,`dependentRequired`)&&h(e.dependentRequired)&&Object.values(e.dependentRequired).every(e=>d(e)&&e.every(e=>g(e)))}function Bn(e){return S(e,`dependentSchemas`)&&h(e.dependentSchemas)&&Object.values(e.dependentSchemas).every(e=>G(e))}function Vn(e){return S(e,`$dynamicAnchor`)&&g(e.$dynamicAnchor)}function Hn(e){return S(e,`else`)&&G(e.else)}function Un(e){return S(e,`enum`)&&d(e.enum)}function Wn(e){return S(e,`exclusiveMaximum`)&&(m(e.exclusiveMaximum)||f(e.exclusiveMaximum))}function Gn(e){return S(e,`exclusiveMinimum`)&&(m(e.exclusiveMinimum)||f(e.exclusiveMinimum))}function Kn(e){return S(e,`format`)&&g(e.format)}function qn(e){return S(e,`$id`)&&g(e.$id)}function Jn(e){return S(e,`if`)&&G(e.if)}function Yn(e){return S(e,`items`)&&(G(e.items)||d(e.items)&&e.items.every(e=>G(e)))}function Xn(e){return Yn(e)&&d(e.items)}function Zn(e){return S(e,`maximum`)&&(m(e.maximum)||f(e.maximum))}function Qn(e){return S(e,`maxContains`)&&m(e.maxContains)}function $n(e){return S(e,`maxItems`)&&m(e.maxItems)}function er(e){return S(e,`maxLength`)&&m(e.maxLength)}function tr(e){return S(e,`maxProperties`)&&m(e.maxProperties)}function nr(e){return S(e,`minimum`)&&(m(e.minimum)||f(e.minimum))}function rr(e){return S(e,`minContains`)&&m(e.minContains)}function ir(e){return S(e,`minItems`)&&m(e.minItems)}function ar(e){return S(e,`minLength`)&&m(e.minLength)}function or(e){return S(e,`minProperties`)&&m(e.minProperties)}function sr(e){return S(e,`multipleOf`)&&(m(e.multipleOf)||f(e.multipleOf))}function cr(e){return S(e,`not`)&&G(e.not)}function lr(e){return S(e,`oneOf`)&&d(e.oneOf)&&e.oneOf.every(e=>G(e))}function ur(e){return S(e,`pattern`)&&(g(e.pattern)||e.pattern instanceof RegExp)}function dr(e){return S(e,`patternProperties`)&&h(e.patternProperties)&&Object.values(e.patternProperties).every(e=>G(e))}function fr(e){return S(e,`prefixItems`)&&d(e.prefixItems)&&e.prefixItems.every(e=>G(e))}function pr(e){return S(e,`properties`)&&h(e.properties)&&Object.values(e.properties).every(e=>G(e))}function mr(e){return S(e,`propertyNames`)&&(h(e.propertyNames)||G(e.propertyNames))}function hr(e){return S(e,`$recursiveAnchor`)&&se(e.$recursiveAnchor)}function gr(e){return hr(e)&&v(e.$recursiveAnchor,!0)}function _r(e){return S(e,`$recursiveRef`)&&g(e.$recursiveRef)}function vr(e){return S(e,`$ref`)&&g(e.$ref)}function K(e){return S(e,`required`)&&d(e.required)&&e.required.every(e=>g(e))}function yr(e){return S(e,`then`)&&G(e.then)}function br(e){return S(e,`type`)&&(g(e.type)||d(e.type)&&e.type.every(e=>g(e)))}function xr(e){return S(e,`uniqueItems`)&&se(e.uniqueItems)}function Sr(e){return S(e,`unevaluatedItems`)&&G(e.unevaluatedItems)}function Cr(e){return S(e,`unevaluatedProperties`)&&G(e.unevaluatedProperties)}function wr(e){return Sr(e)||Cr(e)||w(e).some(t=>Er(e[t]))}function Tr(e){return e.some(e=>Er(e))}function Er(e){return d(e)?Tr(e):h(e)?wr(e):!1}function Dr(e,t){return Er(t)||w(e).some(t=>Er(e[t]))}var Or=class{constructor(e){this.hasUnevaluated=e}UseUnevaluated(){return this.hasUnevaluated}AddIndex(e){return N(P(`context`,`AddIndex`),[e])}AddKey(e){return N(P(`context`,`AddKey`),[e])}Merge(e){return N(P(`context`,`Merge`),[e])}},q=class{constructor(){this.indices=new Set,this.keys=new Set}AddIndex(e){return this.indices.add(e),!0}AddKey(e){return this.keys.add(e),!0}GetIndices(){return this.indices}GetKeys(){return this.keys}Merge(e){for(let t of e)t.indices.forEach(e=>this.indices.add(e)),t.keys.forEach(e=>this.keys.add(e));return!0}},kr=class extends q{constructor(e){super(),this.callback=e}AddError(e){return this.callback(e),!1}},J=class extends kr{constructor(){super(e=>this.errors.push(e)),this.errors=[]}AddError(e){return this.errors.push(e),!1}GetErrors(){return this.errors}};const Ar=`external_`;let jr=0;const Mr={identifier:`${Ar}${jr}`,variables:[]};function Nr(){Mr.identifier=`${Ar}${jr}`,Mr.variables=[],jr+=1}function Pr(e){let t=`${Mr.identifier}[${Mr.variables.length}]`;return Mr.variables.push(e),t}function Fr(){return Mr}function Ir(e,t,n,r){return N(P(P(Pr(n),`~guard`),`check`),[r])}function Lr(e,t,n,r){return n[`~guard`].check(r)}function Rr(e,t,n,r,i,a){return i[`~guard`].check(a)||t.AddError({keyword:`~guard`,schemaPath:n,instancePath:r,params:{errors:i[`~guard`].errors(a)}})}function zr(e,t,n,r){return k(Pr(n[`~refine`].map(e=>e)),F(0),[`refinement`,`_`],N(P(`refinement`,`refine`),[r]))}function Br(e,t,n,r){return b(n[`~refine`],0,(e,t)=>e.refine(r))}function Vr(e,t,n,r,i,a){return x(i[`~refine`],0,(e,i)=>e.refine(a)||t.AddError({keyword:`~refine`,schemaPath:n,instancePath:r,params:{index:i,message:e.message}}))}let Hr=0;function Y(){return`var_${Hr++}`}function Ur(e){return Yn(e)&&d(e.items)}function Wr(e,t,n,r){if(!Ur(n))return F(!0);let[i,a]=[Y(),Y()],o=Z(e,t,n.additionalItems,i),s=qe(a,F(n.items.length)),c=t.AddIndex(a),l=t.UseUnevaluated()?E(s,T(o,c)):E(s,o);return N(P(r,`every`),[M([i,a],l)])}function Gr(e,t,n,r){return Ur(n)?r.every((r,i)=>he(i,n.items.length)||Q(e,t,n.additionalItems,r)&&t.AddIndex(i)):!0}function Kr(e,t,n,r,i,a){return Ur(i)?a.every((a,o)=>{let s=`${n}/additionalItems`,c=`${r}/${o}`;return he(o,i.items.length)||$(e,t,s,c,i.additionalItems,a)&&t.AddIndex(o)}):!0}function qr(e){return`^${e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`)}$`}function Jr(e){let t=[];return dr(e)&&t.push(...w(e.patternProperties)),pr(e)&&t.push(...w(e.properties).map(qr)),v(t.length,0)?`(?!)`:`(${t.join(`|`)})`}function Yr(e,t,n){return K(t)&&pr(t)&&!dr(t)&&v(t.additionalProperties,!1)&&v(w(t.properties).length,t.required.length)}function Xr(e,t,n){return O(P(N(P(`Object`,`getOwnPropertyNames`),[n]),`length`),F(t.required.length))}function Zr(e,t,n,r){let[i,a]=[Y(),Y()],o=Pr(new RegExp(Jr(n))),s=Z(e,t,n.additionalProperties,`${r}[${i}]`),c=N(P(o,`test`),[i]),l=t.AddKey(i),u=t.UseUnevaluated()?E(c,T(s,l)):E(c,s);return k(A(r),F(0),[i,a],u)}function Qr(e,t,n,r){return Yr(t,n,r)?Xr(t,n,r):Zr(e,t,n,r)}function $r(e,t,n,r){let i=new RegExp(Jr(n));return b(w(r),0,(a,o)=>i.test(a)||Q(e,t,n.additionalProperties,r[a])&&t.AddKey(a))}function ei(e,t,n,r,i,a){let o=new RegExp(Jr(i)),s=[];return x(w(a),0,(c,l)=>{let u=`${n}/additionalProperties`,ee=`${r}/${c}`,te=new J,ne=o.test(c)||$(e,te,u,ee,i.additionalProperties,a[c])&&t.AddKey(c);return ne||s.push(c),ne})||t.AddError({keyword:`additionalProperties`,schemaPath:n,instancePath:r,params:{additionalProperties:s}})}function ti(e,t,n,r,i){let a=I(`results`,`[]`),o=n.map((e,t)=>I(`context_${t}`,tt(`CheckContext`,[]))),s=n.map((n,i)=>I(`condition_${i}`,N(M([`context`],Z(e,t,n,r)),[`context_${i}`]))),c=n.map((e,t)=>it(`condition_${t}`,N(P(`results`,`push`),[`context_${t}`]))),l=at(T(i,t.Merge(`results`)));return N(M([],rt([a,...o,...s,...c,l])),[])}function ni(e,t,n,r){return ti(e,t,n.allOf,r,O(P(`results`,`length`),F(n.allOf.length)))}function ri(e,t,n,r){return L(n.allOf.map(n=>Z(e,t,n,r)))}function ii(e,t,n,r){return t.UseUnevaluated()?ni(e,t,n,r):ri(e,t,n,r)}function ai(e,t,n,r){let i=n.allOf.reduce((t,n)=>{let i=new q;return Q(e,i,n,r)?[...t,i]:t},[]);return v(i.length,n.allOf.length)&&t.Merge(i)}function oi(e,t,n,r,i,a){let o=[],s=i.allOf.reduce((t,i,s)=>{let c=`${n}/allOf/${s}`,l=new J,u=$(e,l,c,r,i,a);return u||o.push(l),u?[...t,l]:t},[]),c=v(s.length,i.allOf.length)&&t.Merge(s);return c||o.forEach(e=>e.GetErrors().forEach(e=>t.AddError(e))),c}function si(e,t,n,r){return ti(e,t,n.anyOf,r,Ke(P(`results`,`length`),F(0)))}function ci(e,t,n,r){return ot(n.anyOf.map(n=>Z(e,t,n,r)))}function li(e,t,n,r){return t.UseUnevaluated()?si(e,t,n,r):ci(e,t,n,r)}function ui(e,t,n,r){let i=n.anyOf.reduce((t,n,i)=>{let a=new q;return Q(e,a,n,r)?[...t,a]:t},[]);return me(i.length,0)&&t.Merge(i)}function di(e,t,n,r,i,a){let o=[],s=i.anyOf.reduce((t,i,s)=>{let c=new J,l=$(e,c,`${n}/anyOf/${s}`,r,i,a);return l||o.push(c),l?[...t,c]:t},[]),c=me(s.length,0)&&t.Merge(s);return c||o.forEach(e=>e.GetErrors().forEach(e=>t.AddError(e))),c||t.AddError({keyword:`anyOf`,schemaPath:n,instancePath:r,params:{}})}function fi(e,t,n,r){return F(!!n)}function pi(e,t,n,r){return n}function mi(e,t,n,r,i,a){return pi(e,t,i,a)||t.AddError({keyword:`boolean`,schemaPath:n,instancePath:r,params:{}})}function hi(e,t,n,r){return ye(n.const)?O(r,F(n.const)):$e(r,Pr(n.const))}function gi(e,t,n,r){return ye(n.const)?v(r,n.const):Oe(r,n.const)}function _i(e,t,n,r,i,a){return gi(e,t,i,a)||t.AddError({keyword:`const`,schemaPath:n,instancePath:r,params:{allowedValue:i.const}})}function vi(e){return!(rr(e)&&v(e.minContains,0))}function yi(e,t,n,r){if(!vi(n))return F(!0);let i=Y();return T(D(O(P(r,`length`),F(0))),N(P(r,`some`),[M([i],Z(e,t,n.contains,i))]))}function bi(e,t,n,r){return vi(n)?!v(r.length,0)&&r.some(r=>Q(e,t,n.contains,r)):!0}function xi(e,t,n,r,i,a){return bi(e,t,i,a)||t.AddError({keyword:`contains`,schemaPath:n,instancePath:r,params:{minContains:1}})}function Si(e,t,n,r){return E(O(P(A(r),`length`),F(0)),L(C(n.dependencies).map(([n,i])=>{let a=D(j(r,F(n))),o=Z(e,t,i,r);return E(a,d(i)?(e=>L(e.map(e=>j(r,F(e)))))(i):o)})))}function Ci(e,t,n,r){let i=v(w(r).length,0),a=b(C(n.dependencies),0,([n,i])=>!S(r,n)||(d(i)?i.every(e=>S(r,e)):Q(e,t,i,r)));return i||a}function wi(e,t,n,r,i,a){let o=v(w(a).length,0),s=x(C(i.dependencies),0,([i,o])=>{let s=`${n}/dependencies/${i}`;return!S(a,i)||(d(o)?o.every(e=>S(a,e)||t.AddError({keyword:`dependencies`,schemaPath:n,instancePath:r,params:{property:i,dependencies:o}})):$(e,t,s,r,o,a))});return o||s}function Ti(e,t,n,r){return E(O(P(A(r),`length`),F(0)),L(C(n.dependentRequired).map(([e,t])=>E(D(j(r,F(e))),L(t.map(e=>j(r,F(e))))))))}function Ei(e,t,n,r){let i=v(w(r).length,0),a=b(C(n.dependentRequired),0,([e,t])=>!S(r,e)||t.every(e=>S(r,e)));return i||a}function Di(e,t,n,r,i,a){let o=v(w(a).length,0),s=x(C(i.dependentRequired),0,([e,i])=>!S(a,e)||x(i,0,o=>S(a,o)||t.AddError({keyword:`dependentRequired`,schemaPath:n,instancePath:r,params:{property:e,dependencies:i}})));return o||s}function Oi(e,t,n,r){return E(O(P(A(r),`length`),F(0)),L(C(n.dependentSchemas).map(([n,i])=>E(D(j(r,F(n))),Z(e,t,i,r)))))}function ki(e,t,n,r){let i=v(w(r).length,0),a=b(C(n.dependentSchemas),0,([n,i])=>!S(r,n)||Q(e,t,i,r));return i||a}function Ai(e,t,n,r,i,a){let o=v(w(a).length,0),s=x(C(i.dependentSchemas),0,([i,o])=>{let s=`${n}/dependentSchemas/${i}`;return!S(a,i)||$(e,t,s,r,o,a)});return o||s}function ji(e,t,n,r){return ot(n.enum.map(e=>ye(e)?O(r,F(e)):$e(r,Pr(e))))}function Mi(e,t,n,r){return n.enum.some(e=>ye(e)?v(r,e):Oe(r,e))}function Ni(e,t,n,r,i,a){return Mi(e,t,i,a)||t.AddError({keyword:`enum`,schemaPath:n,instancePath:r,params:{allowedValues:i.enum}})}function Pi(e,t,n,r){return qe(r,F(n.exclusiveMaximum))}function Fi(e,t,n,r){return he(r,n.exclusiveMaximum)}function Ii(e,t,n,r,i,a){return Fi(e,t,i,a)||t.AddError({keyword:`exclusiveMaximum`,schemaPath:n,instancePath:r,params:{comparison:`<`,limit:i.exclusiveMaximum}})}function Li(e,t,n,r){return Ke(r,F(n.exclusiveMinimum))}function Ri(e,t,n,r){return me(r,n.exclusiveMinimum)}function zi(e,t,n,r,i,a){return Ri(e,t,i,a)||t.AddError({keyword:`exclusiveMinimum`,schemaPath:n,instancePath:r,params:{comparison:`>`,limit:i.exclusiveMinimum}})}const Bi=[0,31,28,31,30,31,30,31,31,30,31,30,31],Vi=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;function Hi(e){return e%4==0&&(e%100!=0||e%400==0)}function Ui(e){let t=Vi.exec(e);if(!t)return!1;let n=+t[1],r=+t[2],i=+t[3];return r>=1&&r<=12&&i>=1&&i<=(r===2&&Hi(n)?29:Bi[r])}const Wi=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(?:Z|([+-])(\d\d):(\d\d))?$/i;function Gi(e,t=!0){let n=Wi.exec(e);if(!n)return!1;let r=+n[1],i=+n[2],a=+n[3],o=n[4]===`-`?-1:1,s=+(n[5]||0),c=+(n[6]||0);if(s>23||c>59||t&&!n[4]&&e.toLowerCase().indexOf(`z`)===-1)return!1;if(r<=23&&i<=59&&a<60)return!0;let l=i-c*o,u=r-s*o-(l<0?1:0);return(u===23||u===-1)&&(l===59||l===-1)&&a<61}function Ki(e,t=!0){let n=e.split(/T/i);return n.length===2&&Ui(n[0])&&Gi(n[1],t)}const qi=/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/;function Ji(e){return qi.test(e)}const Yi=/^(?!.*\.\.)[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i;function Xi(e){return Yi.test(e)}const Zi=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;function Qi(e){return Zi.test(e)}const $i=/^(?!.*\.\.)[\p{L}\p{N}!#$%&'*+/=?^_`{|}~-]+(?:\.[\p{L}\p{N}!#$%&'*+/=?^_`{|}~-]+)*@[\p{L}\p{N}](?:[\p{L}\p{N}-]{0,61}[\p{L}\p{N}])?(?:\.[\p{L}\p{N}](?:[\p{L}\p{N}-]{0,61}[\p{L}\p{N}])?)*$/iu;function ea(e){return $i.test(e)}function ta(e){let t=e.codePointAt(0);return t===void 0?!1:t>=12352&&t<=12447||t>=12448&&t<=12543&&t!==12539||t>=19968&&t<=40959}function na(e){if(e.length===0||e.includes(` `))return!1;let t=e.normalize(`NFC`).replace(/[\u002E\u3002\uFF0E\uFF61]/g,`.`);if(t.length>253)return!1;let n=t.split(`.`);if(n.some(e=>e.length===0))return!1;for(let e of n){if(e.length>63||e.startsWith(`-`)||e.endsWith(`-`))return!1;if(/^xn--/i.test(e)){let t=e.slice(4);if(t.length<2||t.includes(`---`))return!1;continue}if(/[\u302E\u302F\u3031\u3032\u3033\u3034\u3035\u303B\u0640\u07FA]/.test(e))return!1;let t=e.charAt(0);if(/[\u0903\u0300\u0488]/.test(t))return!1;for(let t=0;t<e.length;t++){let n=e.charAt(t);if(n===`·`){if(t===0||t===e.length-1)return!1;let n=e.charAt(t-1),r=e.charAt(t+1);if(!/^[lL]$/.test(n)||!/^[lL]$/.test(r))return!1}if(n===`・`){if(e.length===1)return!1;if(t===0){if(!ta(e.charAt(t+1)))return!1}else{let n=e.charAt(t-1),r=e.charAt(t+1);if(!ta(n)||!ta(r))return!1}}if(n===`͵`){if(t===e.length-1)return!1;let n=e.charAt(t+1);if(!/[\u0370-\u03FF]/.test(n))return!1}if(n===`׳`||n===`״`){if(t===0)return!1;let n=e.charAt(t-1);if(!/[\u05D0-\u05EA]/.test(n))return!1}if(n===`‍`&&(t===0||e.charAt(t-1)!==`्`))return!1}let n=!1,r=!1;for(let t=0;t<e.length;t++){let i=e.charAt(t);/[\u0660-\u0669]/.test(i)&&(n=!0),/[\u06F0-\u06F9]/.test(i)&&(r=!0)}if(n&&r)return!1}return!0}const ra=/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/;function ia(e){return ra.test(e)}const aa=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i;function oa(e){return aa.test(e)}function sa(e){try{return new URL(e,`http://example.com`),!0}catch{return!1}}function ca(e){if(e.includes(` `)||e.includes(`\\`)||/[\x00-\x1F\x7F]/.test(e)||/%(?![0-9a-fA-F]{2})/.test(e))return!1;if(e===``)return!0;let t=e.indexOf(`:`);return t>0&&/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(e.substring(0,t))?sa(e):e.match(/^([a-zA-Z][a-zA-Z0-9+\-.]*)(\/\/)/)&&t===-1?!1:sa(e)}function la(e){try{return new URL(e),!0}catch{return!1}}const ua=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;function da(e){return ua.test(e)}const fa=/^(?:\/(?:[^~/]|~0|~1)*)*$/;function pa(e){return fa.test(e)}function ma(e){if(e.length===0)return!1;try{return new RegExp(e),!0}catch{return!1}}const ha=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function ga(e){return ha.test(e)}const _a=/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i;function va(e){return _a.test(e)}const ya=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;function ba(e){return ya.test(e)}const xa=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i;function Sa(e){return xa.test(e)}const Ca=/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu;function wa(e){return Ca.test(e)}const Ta=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;function Ea(e){return Ta.test(e)}const X=new Map;function Da(){X.clear()}function Oa(){return[...X.entries()]}function ka(e,t){X.set(e,t)}function Aa(e){return X.has(e)}function ja(e){return X.get(e)}function Ma(e,t){return X.get(e)?.(t)??!0}function Na(){Da(),X.set(`date-time`,Ki),X.set(`date`,Ui),X.set(`duration`,Ji),X.set(`email`,Xi),X.set(`hostname`,Qi),X.set(`idn-email`,ea),X.set(`idn-hostname`,na),X.set(`ipv4`,ia),X.set(`ipv6`,oa),X.set(`iri-reference`,ca),X.set(`iri`,la),X.set(`json-pointer-uri-fragment`,da),X.set(`json-pointer`,pa),X.set(`regex`,ma),X.set(`relative-json-pointer`,ga),X.set(`time`,Gi),X.set(`uri-reference`,va),X.set(`uri-template`,ba),X.set(`uri`,Sa),X.set(`url`,wa),X.set(`uuid`,Ea)}Na();var Pa=t({Clear:()=>Da,Entries:()=>Oa,Get:()=>ja,Has:()=>Aa,IsDate:()=>Ui,IsDateTime:()=>Ki,IsDuration:()=>Ji,IsEmail:()=>Xi,IsHostname:()=>Qi,IsIPv4:()=>ia,IsIPv6:()=>oa,IsIdnEmail:()=>ea,IsIdnHostname:()=>na,IsIri:()=>la,IsIriReference:()=>ca,IsJsonPointer:()=>pa,IsJsonPointerUriFragment:()=>da,IsRegex:()=>ma,IsRelativeJsonPointer:()=>ga,IsTime:()=>Gi,IsUri:()=>Sa,IsUriReference:()=>va,IsUriTemplate:()=>ba,IsUrl:()=>wa,IsUuid:()=>Ea,Reset:()=>Na,Set:()=>ka,Test:()=>Ma});function Fa(e,t,n,r){return N(P(`Format`,`Test`),[F(n.format),r])}function Ia(e,t,n,r){return Ma(n.format,r)}function La(e,t,n,r,i,a){return Ia(e,t,i,a)||t.AddError({keyword:`format`,schemaPath:n,instancePath:r,params:{format:i.format}})}function Ra(e,t,n,r){let i=yr(n)?n.then:!0,a=Hn(n)?n.else:!0;return nt(Z(e,t,n.if,r),Z(e,t,i,r),Z(e,t,a,r))}function za(e,t,n,r){let i=yr(n)?n.then:!0,a=Hn(n)?n.else:!0;return Q(e,t,n.if,r)?Q(e,t,i,r):Q(e,t,a,r)}function Ba(e,t,n,r,i,a){let o=yr(i)?i.then:!0,s=Hn(i)?i.else:!0,c=new J,l=$(e,c,`${n}/if`,r,i.if,a)?$(e,c,`${n}/then`,r,o,a)||t.AddError({keyword:`if`,schemaPath:n,instancePath:r,params:{failingKeyword:`then`}}):$(e,t,`${n}/else`,r,s,a)||t.AddError({keyword:`if`,schemaPath:n,instancePath:r,params:{failingKeyword:`else`}});return l&&t.Merge([c]),l}function Va(e,t,n,r){return L(n.items.map((n,i)=>{let a=Je(P(r,`length`),F(i)),o=Z(e,t,n,`${r}[${i}]`),s=t.AddIndex(F(i));return E(a,t.UseUnevaluated()?T(o,s):o)}))}function Ha(e,t,n,r){return b(n.items,0,(n,i)=>y(r.length,i)||Q(e,t,n,r[i])&&t.AddIndex(i))}function Ua(e,t,n,r,i,a){return x(i.items,0,(i,o)=>{let s=`${n}/items/${o}`,c=`${r}/${o}`;return y(a.length,o)||$(e,t,s,c,i,a[o])&&t.AddIndex(o)})}function Wa(e,t,n,r){let i=fr(n)?n.prefixItems.length:0,a=Z(e,t,n.items,`element`),o=t.AddIndex(`index`),s=t.UseUnevaluated()?T(a,o):a;return k(r,F(i),[`element`,`index`],s)}function Ga(e,t,n,r){return b(r,fr(n)?n.prefixItems.length:0,(r,i)=>Q(e,t,n.items,r)&&t.AddIndex(i))}function Ka(e,t,n,r,i,a){return x(a,fr(i)?i.prefixItems.length:0,(a,o)=>$(e,t,`${n}/items`,`${r}/${o}`,i.items,a)&&t.AddIndex(o))}function qa(e,t,n,r){return Xn(n)?Va(e,t,n,r):Wa(e,t,n,r)}function Ja(e,t,n,r){return Xn(n)?Ha(e,t,n,r):Ga(e,t,n,r)}function Ya(e,t,n,r,i,a){return Xn(i)?Ua(e,t,n,r,i,a):Ka(e,t,n,r,i,a)}function Xa(e){return Ln(e)}function Za(e,t,n,r){if(!Xa(n))return F(!0);let[i,a]=[Y(),Y()];return Je(N(P(r,`reduce`),[M([i,a],nt(Z(e,t,n.contains,a),st(i),i)),F(0)]),F(n.maxContains))}function Qa(e,t,n,r){return Xa(n)?y(r.reduce((r,i)=>Q(e,t,n.contains,i)?++r:r,0),n.maxContains):!0}function $a(e,t,n,r,i,a){let o=rr(i)?i.minContains:1;return Qa(e,t,i,a)||t.AddError({keyword:`contains`,schemaPath:n,instancePath:r,params:{minContains:o,maxContains:i.maxContains}})}function eo(e,t,n,r){return Je(r,F(n.maximum))}function to(e,t,n,r){return y(r,n.maximum)}function no(e,t,n,r,i,a){return to(e,t,i,a)||t.AddError({keyword:`maximum`,schemaPath:n,instancePath:r,params:{comparison:`<=`,limit:i.maximum}})}function ro(e,t,n,r){return Je(P(r,`length`),F(n.maxItems))}function io(e,t,n,r){return y(r.length,n.maxItems)}function ao(e,t,n,r,i,a){return io(e,t,i,a)||t.AddError({keyword:`maxItems`,schemaPath:n,instancePath:r,params:{limit:i.maxItems}})}function oo(e,t,n,r){return Ze(r,F(n.maxLength))}function so(e,t,n,r){return xe(r,n.maxLength)}function co(e,t,n,r,i,a){return so(e,t,i,a)||t.AddError({keyword:`maxLength`,schemaPath:n,instancePath:r,params:{limit:i.maxLength}})}function lo(e,t,n,r){return Je(P(A(r),`length`),F(n.maxProperties))}function uo(e,t,n,r){return y(w(r).length,n.maxProperties)}function fo(e,t,n,r,i,a){return uo(e,t,i,a)||t.AddError({keyword:`maxProperties`,schemaPath:n,instancePath:r,params:{limit:i.maxProperties}})}function po(e){return Ln(e)}function mo(e,t,n,r){if(!po(n))return F(!0);let[i,a]=[Y(),Y()];return Ye(N(P(r,`reduce`),[M([i,a],nt(Z(e,t,n.contains,a),st(i),i)),F(0)]),F(n.minContains))}function ho(e,t,n,r){return po(n)?ge(r.reduce((r,i)=>Q(e,t,n.contains,i)?++r:r,0),n.minContains):!0}function go(e,t,n,r,i,a){return ho(e,t,i,a)||t.AddError({keyword:`contains`,schemaPath:n,instancePath:r,params:{minContains:i.minContains}})}function _o(e,t,n,r){return Ye(r,F(n.minimum))}function vo(e,t,n,r){return ge(r,n.minimum)}function yo(e,t,n,r,i,a){return vo(e,t,i,a)||t.AddError({keyword:`minimum`,schemaPath:n,instancePath:r,params:{comparison:`>=`,limit:i.minimum}})}function bo(e,t,n,r){return Ye(P(r,`length`),F(n.minItems))}function xo(e,t,n,r){return ge(r.length,n.minItems)}function So(e,t,n,r,i,a){return xo(e,t,i,a)||t.AddError({keyword:`minItems`,schemaPath:n,instancePath:r,params:{limit:i.minItems}})}function Co(e,t,n,r){return Xe(r,F(n.minLength))}function wo(e,t,n,r){return Se(r,n.minLength)}function To(e,t,n,r,i,a){return wo(e,t,i,a)||t.AddError({keyword:`minLength`,schemaPath:n,instancePath:r,params:{limit:i.minLength}})}function Eo(e,t,n,r){return Ye(P(A(r),`length`),F(n.minProperties))}function Do(e,t,n,r){return ge(w(r).length,n.minProperties)}function Oo(e,t,n,r,i,a){return Do(e,t,i,a)||t.AddError({keyword:`minProperties`,schemaPath:n,instancePath:r,params:{limit:i.minProperties}})}function ko(e,t,n,r){return ct(r,F(n.multipleOf))}function Ao(e,t,n,r){return _e(r,n.multipleOf)}function jo(e,t,n,r,i,a){return Ao(e,t,i,a)||t.AddError({keyword:`multipleOf`,schemaPath:n,instancePath:r,params:{multipleOf:i.multipleOf}})}function Mo(e,t,n,r){return ti(e,t,[n.not],r,D(O(P(`results`,`length`),F(1))))}function No(e,t,n,r){return D(Z(e,t,n.not,r))}function Po(e,t,n,r){return t.UseUnevaluated()?Mo(e,t,n,r):No(e,t,n,r)}function Fo(e,t,n,r){let i=new q;return!Q(e,i,n.not,r)&&t.Merge([i])}function Io(e,t,n,r,i,a){return Fo(e,t,i,a)||t.AddError({keyword:`not`,schemaPath:n,instancePath:r,params:{}})}function Lo(e,t,n,r){return ti(e,t,n.oneOf,r,O(P(`results`,`length`),F(1)))}function Ro(e,t,n,r){return O(N(P(et(n.oneOf.map(n=>Z(e,t,n,r))),`reduce`),[M([`count`,`result`],nt(O(`result`,F(!0)),st(`count`),`count`)),F(0)]),F(1))}function zo(e,t,n,r){return t.UseUnevaluated()?Lo(e,t,n,r):Ro(e,t,n,r)}function Bo(e,t,n,r){let i=n.oneOf.reduce((t,n)=>{let i=new q;return Q(e,i,n,r)?[...t,i]:t},[]);return v(i.length,1)&&t.Merge(i)}function Vo(e,t,n,r,i,a){let o=[],s=[],c=i.oneOf.reduce((t,i,c)=>{let l=new J,u=$(e,l,`${n}/oneOf/${c}`,r,i,a);return u&&s.push(c),u||o.push(l),u?[...t,l]:t},[]),l=v(c.length,1)&&t.Merge(c);return!l&&v(s.length,0)&&o.forEach(e=>e.GetErrors().forEach(e=>t.AddError(e))),l||t.AddError({keyword:`oneOf`,schemaPath:n,instancePath:r,params:{passingSchemas:s}})}function Ho(e,t,n,r){return N(P(Pr(g(n.pattern)?new RegExp(n.pattern):n.pattern),`test`),[r])}function Uo(e,t,n,r){return(g(n.pattern)?new RegExp(n.pattern):n.pattern).test(r)}function Wo(e,t,n,r,i,a){return Uo(e,t,i,a)||t.AddError({keyword:`pattern`,schemaPath:n,instancePath:r,params:{pattern:i.pattern}})}function Go(e,t,n,r){return L(C(n.patternProperties).map(([n,i])=>{let[a,o]=[Y(),Y()],s=D(N(P(Pr(new RegExp(n)),`test`),[a])),c=Z(e,t,i,o),l=t.AddKey(a),u=t.UseUnevaluated()?E(s,T(c,l)):E(s,c);return k(Qe(r),F(0),[`[${a}, ${o}]`,`_`],u)}))}function Ko(e,t,n,r){return b(C(n.patternProperties),0,([n,i])=>{let a=new RegExp(n);return b(C(r),0,([n,r])=>!a.test(n)||Q(e,t,i,r)&&t.AddKey(n))})}function qo(e,t,n,r,i,a){return x(C(i.patternProperties),0,([i,o])=>{let s=`${n}/patternProperties/${i}`,c=new RegExp(i);return x(C(a),0,([n,i])=>{let a=`${r}/${n}`;return!c.test(n)||$(e,t,s,a,o,i)&&t.AddKey(n)})})}function Jo(e,t,n,r){return L(n.prefixItems.map((n,i)=>{let a=Je(P(r,`length`),F(i)),o=Z(e,t,n,`${r}[${i}]`),s=t.AddIndex(F(i));return E(a,t.UseUnevaluated()?T(o,s):o)}))}function Yo(e,t,n,r){return v(r.length,0)||b(n.prefixItems,0,(n,i)=>y(r.length,i)||Q(e,t,n,r[i])&&t.AddIndex(i))}function Xo(e,t,n,r,i,a){return v(a.length,0)||x(i.prefixItems,0,(i,o)=>{let s=`${n}/prefixItems/${o}`,c=`${r}/${o}`;return y(a.length,o)||$(e,t,s,c,i,a[o])&&t.AddIndex(o)})}function Zo(e,t){return e.includes(t)||wt().exactOptionalPropertyTypes}function Qo(e,t){return Ue(P(e,t))}function $o(e,t){return _(e[t])}function es(e,t,n,r){let i=K(n)?n.required:[];return L(C(n.properties).map(([n,a])=>{let o=D(j(r,F(n))),s=Z(e,t,a,P(r,n)),c=t.AddKey(F(n)),l=t.UseUnevaluated()?T(s,c):s,u=i.includes(n)?l:E(o,l);return Zo(i,n)?u:E(Qo(r,n),u)}))}function ts(e,t,n,r){let i=K(n)?n.required:[];return b(C(n.properties),0,([n,a])=>{let o=!S(r,n)||Q(e,t,a,r[n])&&t.AddKey(n);return Zo(i,n)?o:$o(r,n)||o})}function ns(e,t,n,r,i,a){let o=K(i)?i.required:[];return x(C(i.properties),0,([i,s])=>{let c=`${n}/properties/${i}`,l=`${r}/${i}`,u=()=>!S(a,i)||$(e,t,c,l,s,a[i])&&t.AddKey(i);return Zo(o,i)?u():$o(a,i)||u()})}function rs(e,t,n,r){let[i,a]=[Y(),Y()];return k(A(r),F(0),[i,a],Z(e,t,n.propertyNames,i))}function is(e,t,n,r){return b(w(r),0,(r,i)=>Q(e,t,n.propertyNames,r))}function as(e,t,n,r,i,a){let o=[];return x(w(a),0,(t,a)=>{let s=`${r}/${t}`,c=`${n}/propertyNames`,l=$(e,new J,c,s,i.propertyNames,t);return l||o.push(t),l})||t.AddError({keyword:`propertyNames`,schemaPath:n,instancePath:r,params:{propertyNames:o}})}function os(e,t,n,r){return Js(e,t,e.RecursiveRef(n.$recursiveRef)??!1,r)}function ss(e,t,n,r){let i=e.RecursiveRef(n.$recursiveRef)??!1;return G(i)&&Q(e,t,i,r)}function cs(e,t,n,r,i,a){let o=e.RecursiveRef(i.$recursiveRef)??!1;return G(o)&&$(e,t,`#`,r,o,a)}function ls(e,t,n,r){let i=M([`context`,`value`],Js(e,t,n,`value`));return N(M([`context`,`value`],rt([I(`nextContext`,tt(`CheckContext`,[])),I(`result`,N(i,[`nextContext`,`value`])),it(`result`,t.Merge(`[nextContext]`)),at(`result`)])),[`context`,r])}function us(e,t,n,r){return Js(e,t,n,r)}function ds(e,t,n,r){let i=e.Ref(n.$ref)??!1;return t.UseUnevaluated()?ls(e,t,i,r):us(e,t,i,r)}function fs(e,t,n,r){let i=e.Ref(n.$ref)??!1,a=new q,o=G(i)&&Q(e,a,i,r);return o&&t.Merge([a]),o}function ps(e,t,n,r,i,a){let o=e.Ref(i.$ref)??!1,s=new J,c=G(o)&&$(e,s,`#`,r,o,a);return c&&t.Merge([s]),c||s.GetErrors().forEach(e=>t.AddError(e)),c}function ms(e,t,n,r){return L(n.required.map(e=>j(r,F(e))))}function hs(e,t,n,r){return b(n.required,0,e=>S(r,e))}function gs(e,t,n,r,i,a){let o=[];return x(i.required,0,e=>{let t=S(a,e);return t||o.push(e),t})||t.AddError({keyword:`required`,schemaPath:n,instancePath:r,params:{requiredProperties:o}})}function _s(e,t,n,r){return v(n,`object`)?ze(r):v(n,`array`)?je(r):v(n,`boolean`)?Pe(r):v(n,`integer`)?Fe(r):v(n,`number`)?Re(r):v(n,`null`)?Le(r):v(n,`string`)?Ve(r):v(n,`asyncIterator`)?Me(r):v(n,`bigint`)?Ne(r):v(n,`constructor`)?Ge(r):v(n,`function`)?We(r):v(n,`iterator`)?Ie(r):v(n,`symbol`)?He(r):v(n,`undefined`)||v(n,`void`)?Ue(r):F(!0)}function vs(e,t,n,r,i){return v(n,`object`)?fe(i):v(n,`array`)?d(i):v(n,`boolean`)?se(i):v(n,`integer`)?le(i):v(n,`number`)?m(i):v(n,`null`)?de(i):v(n,`string`)?g(i):v(n,`asyncIterator`)?oe(i):v(n,`bigint`)?f(i):v(n,`constructor`)?ce(i):v(n,`function`)?p(i):v(n,`iterator`)?ue(i):v(n,`symbol`)?pe(i):v(n,`undefined`)||v(n,`void`)?_(i):!0}function ys(e,t,n,r){return ot(n.map(n=>_s(e,t,n,r)))}function bs(e,t,n,r,i){return n.some(n=>vs(e,t,n,r,i))}function xs(e,t,n,r){return d(n.type)?ys(e,t,n.type,r):_s(e,t,n.type,r)}function Ss(e,t,n,r){return d(n.type)?bs(e,t,n.type,n,r):vs(e,t,n.type,n,r)}function Cs(e,t,n,r,i,a){return(d(i.type)?bs(e,t,i.type,i,a):vs(e,t,i.type,i,a))||t.AddError({keyword:`type`,schemaPath:n,instancePath:r,params:{type:i.type}})}function ws(e,t,n,r){let[i,a]=[Y(),Y()],o=N(P(`context`,`GetIndices`),[]),s=N(P(`indices`,`has`),[i]),c=Z(e,t,n.unevaluatedItems,a),l=N(P(`context`,`AddIndex`),[i]),u=k(r,F(0),[a,i],T(E(s,c),l));return N(M([`context`],rt([I(`indices`,o),at(u)])),[`context`])}function Ts(e,t,n,r){let i=t.GetIndices();return b(r,0,(r,a)=>(i.has(a)||Q(e,t,n.unevaluatedItems,r))&&t.AddIndex(a))}function Es(e,t,n,r,i,a){let o=t.GetIndices(),s=[];return x(a,0,(a,c)=>{let l=new J,u=(o.has(c)||$(e,l,n,r,i.unevaluatedItems,a))&&t.AddIndex(c);return u||s.push(c),u})||t.AddError({keyword:`unevaluatedItems`,schemaPath:n,instancePath:r,params:{unevaluatedItems:s}})}function Ds(e,t,n,r){let[i,a]=[Y(),Y()],o=N(P(`context`,`GetKeys`),[]),s=N(P(`keys`,`has`),[i]),c=N(P(`context`,`AddKey`),[i]),l=Z(e,t,n.unevaluatedProperties,a),u=k(Qe(r),F(0),[`[${i}, ${a}]`,`_`],E(s,T(l,c)));return N(M([`context`],rt([I(`keys`,o),at(u)])),[`context`])}function Os(e,t,n,r){let i=t.GetKeys();return b(C(r),0,([r,a])=>i.has(r)||Q(e,t,n.unevaluatedProperties,a)&&t.AddKey(r))}function ks(e,t,n,r,i,a){let o=t.GetKeys(),s=[];return x(C(a),0,([a,c])=>{let l=new J,u=o.has(a)||$(e,l,n,r,i.unevaluatedProperties,c)&&t.AddKey(a);return u||s.push(a),u})||t.AddError({keyword:`unevaluatedProperties`,schemaPath:n,instancePath:r,params:{unevaluatedProperties:s}})}function As(e){return!v(e.uniqueItems,!1)}function js(e,t,n,r){return As(n)?O(P(tt(`Set`,[N(P(r,`map`),[P(`Hashing`,`Hash`)])]),`size`),P(r,`length`)):F(!0)}function Ms(e,t,n,r){if(!As(n))return!0;let i=new Set(r.map(fn)).size,a=r.length;return v(i,a)}function Ns(e,t,n,r,i,a){if(!As(i))return!0;let o=new Set,s=a.reduce((e,t,n)=>{let r=fn(t);return o.has(r)?[...e,n]:(o.add(r),e)},[]);return v(s.length,0)||t.AddError({keyword:`uniqueItems`,schemaPath:n,instancePath:r,params:{duplicateItems:s}})}function Ps(e,t){return br(e)&&(d(e.type)&&e.type.includes(t)||v(e.type,t))}function Fs(e){return Ps(e,`object`)}function Is(e){return W(e)&&(Mn(e)||Rn(e)||zn(e)||Bn(e)||pr(e)||dr(e)||mr(e)||or(e)||tr(e)||K(e)||Cr(e))}function Ls(e){return Ps(e,`array`)}function Rs(e){return W(e)&&(jn(e)||Yn(e)||Ln(e)||Qn(e)||$n(e)||rr(e)||ir(e)||fr(e)||Sr(e)||xr(e))}function zs(e){return Ps(e,`string`)}function Bs(e){return W(e)&&(ar(e)||er(e)||Kn(e)||ur(e))}function Vs(e){return Ps(e,`number`)||Ps(e,`bigint`)}function Hs(e){return W(e)&&(nr(e)||Zn(e)||Wn(e)||Gn(e)||sr(e))}function Z(e,t,n,r){e.Push(n);let i=[];if(An(n))return fi(e,t,n,r);if(br(n)&&i.push(xs(e,t,n,r)),Is(n)){let a=[];K(n)&&a.push(ms(e,t,n,r)),Mn(n)&&a.push(Qr(e,t,n,r)),Rn(n)&&a.push(Si(e,t,n,r)),zn(n)&&a.push(Ti(e,t,n,r)),Bn(n)&&a.push(Oi(e,t,n,r)),dr(n)&&a.push(Go(e,t,n,r)),pr(n)&&a.push(es(e,t,n,r)),mr(n)&&a.push(rs(e,t,n,r)),or(n)&&a.push(Eo(e,t,n,r)),tr(n)&&a.push(lo(e,t,n,r));let o=L(a),s=E(D(ze(r)),o);i.push(Fs(n)?o:s)}if(Rs(n)){let a=[];jn(n)&&a.push(Wr(e,t,n,r)),Ln(n)&&a.push(yi(e,t,n,r)),Yn(n)&&a.push(qa(e,t,n,r)),Qn(n)&&a.push(Za(e,t,n,r)),$n(n)&&a.push(ro(e,t,n,r)),rr(n)&&a.push(mo(e,t,n,r)),ir(n)&&a.push(bo(e,t,n,r)),fr(n)&&a.push(Jo(e,t,n,r)),xr(n)&&a.push(js(e,t,n,r));let o=L(a),s=E(D(je(r)),o);i.push(Ls(n)?o:s)}if(Bs(n)){let a=[];Kn(n)&&a.push(Fa(e,t,n,r)),er(n)&&a.push(oo(e,t,n,r)),ar(n)&&a.push(Co(e,t,n,r)),ur(n)&&a.push(Ho(e,t,n,r));let o=L(a),s=E(D(Ve(r)),o);i.push(zs(n)?o:s)}if(Hs(n)){let a=[];Wn(n)&&a.push(Pi(e,t,n,r)),Gn(n)&&a.push(Li(e,t,n,r)),Zn(n)&&a.push(eo(e,t,n,r)),nr(n)&&a.push(_o(e,t,n,r)),sr(n)&&a.push(ko(e,t,n,r));let o=L(a),s=E(D(E(Re(r),Ne(r))),o);i.push(Vs(n)?o:s)}_r(n)&&i.push(os(e,t,n,r)),vr(n)&&i.push(ds(e,t,n,r)),On(n)&&i.push(Ir(e,t,n,r)),In(n)&&i.push(hi(e,t,n,r)),Un(n)&&i.push(ji(e,t,n,r)),Jn(n)&&i.push(Ra(e,t,n,r)),cr(n)&&i.push(Po(e,t,n,r)),Nn(n)&&i.push(ii(e,t,n,r)),Fn(n)&&i.push(li(e,t,n,r)),lr(n)&&i.push(zo(e,t,n,r)),Sr(n)&&i.push(E(D(je(r)),ws(e,t,n,r))),Cr(n)&&i.push(E(D(Be(r)),Ds(e,t,n,r))),kn(n)&&i.push(zr(e,t,n,r));let a=L(i);return e.Pop(n),a}function Q(e,t,n,r){e.Push(n);let i=An(n)?pi(e,t,n,r):(!br(n)||Ss(e,t,n,r))&&(!(h(r)&&!d(r))||(!K(n)||hs(e,t,n,r))&&(!Mn(n)||$r(e,t,n,r))&&(!Rn(n)||Ci(e,t,n,r))&&(!zn(n)||Ei(e,t,n,r))&&(!Bn(n)||ki(e,t,n,r))&&(!dr(n)||Ko(e,t,n,r))&&(!pr(n)||ts(e,t,n,r))&&(!mr(n)||is(e,t,n,r))&&(!or(n)||Do(e,t,n,r))&&(!tr(n)||uo(e,t,n,r)))&&(!d(r)||(!jn(n)||Gr(e,t,n,r))&&(!Ln(n)||bi(e,t,n,r))&&(!Yn(n)||Ja(e,t,n,r))&&(!Qn(n)||Qa(e,t,n,r))&&(!$n(n)||io(e,t,n,r))&&(!rr(n)||ho(e,t,n,r))&&(!ir(n)||xo(e,t,n,r))&&(!fr(n)||Yo(e,t,n,r))&&(!xr(n)||Ms(e,t,n,r)))&&(!g(r)||(!Kn(n)||Ia(e,t,n,r))&&(!er(n)||so(e,t,n,r))&&(!ar(n)||wo(e,t,n,r))&&(!ur(n)||Uo(e,t,n,r)))&&(!(m(r)||f(r))||(!Wn(n)||Fi(e,t,n,r))&&(!Gn(n)||Ri(e,t,n,r))&&(!Zn(n)||to(e,t,n,r))&&(!nr(n)||vo(e,t,n,r))&&(!sr(n)||Ao(e,t,n,r)))&&(!_r(n)||ss(e,t,n,r))&&(!vr(n)||fs(e,t,n,r))&&(!On(n)||Lr(e,t,n,r))&&(!In(n)||gi(e,t,n,r))&&(!Un(n)||Mi(e,t,n,r))&&(!Jn(n)||za(e,t,n,r))&&(!cr(n)||Fo(e,t,n,r))&&(!Nn(n)||ai(e,t,n,r))&&(!Fn(n)||ui(e,t,n,r))&&(!lr(n)||Bo(e,t,n,r))&&(!Sr(n)||!d(r)||Ts(e,t,n,r))&&(!Cr(n)||!h(r)||Os(e,t,n,r))&&(!kn(n)||Br(e,t,n,r));return e.Pop(n),i}function $(e,t,n,r,i,a){e.Push(i);let o=An(i)?mi(e,t,n,r,i,a):!!((!br(i)||Cs(e,t,n,r,i,a))&+(!(h(a)&&!d(a))||!!((!K(i)||gs(e,t,n,r,i,a))&+(!Mn(i)||ei(e,t,n,r,i,a))&(!Rn(i)||wi(e,t,n,r,i,a))&(!zn(i)||Di(e,t,n,r,i,a))&(!Bn(i)||Ai(e,t,n,r,i,a))&(!dr(i)||qo(e,t,n,r,i,a))&(!pr(i)||ns(e,t,n,r,i,a))&(!mr(i)||as(e,t,n,r,i,a))&(!or(i)||Oo(e,t,n,r,i,a))&(!tr(i)||fo(e,t,n,r,i,a))))&(!d(a)||!!((!jn(i)||Kr(e,t,n,r,i,a))&+(!Ln(i)||xi(e,t,n,r,i,a))&(!Yn(i)||Ya(e,t,n,r,i,a))&(!Qn(i)||$a(e,t,n,r,i,a))&(!$n(i)||ao(e,t,n,r,i,a))&(!rr(i)||go(e,t,n,r,i,a))&(!ir(i)||So(e,t,n,r,i,a))&(!fr(i)||Xo(e,t,n,r,i,a))&(!xr(i)||Ns(e,t,n,r,i,a))))&(!g(a)||!!((!Kn(i)||La(e,t,n,r,i,a))&+(!er(i)||co(e,t,n,r,i,a))&(!ar(i)||To(e,t,n,r,i,a))&(!ur(i)||Wo(e,t,n,r,i,a))))&(!(m(a)||f(a))||!!((!Wn(i)||Ii(e,t,n,r,i,a))&+(!Gn(i)||zi(e,t,n,r,i,a))&(!Zn(i)||no(e,t,n,r,i,a))&(!nr(i)||yo(e,t,n,r,i,a))&(!sr(i)||jo(e,t,n,r,i,a))))&(!_r(i)||cs(e,t,n,r,i,a))&(!vr(i)||ps(e,t,n,r,i,a))&(!On(i)||Rr(e,t,n,r,i,a))&(!In(i)||_i(e,t,n,r,i,a))&(!Un(i)||Ni(e,t,n,r,i,a))&(!Jn(i)||Ba(e,t,n,r,i,a))&(!cr(i)||Io(e,t,n,r,i,a))&(!Nn(i)||oi(e,t,n,r,i,a))&(!Fn(i)||di(e,t,n,r,i,a))&(!lr(i)||Vo(e,t,n,r,i,a))&(!Sr(i)||!d(a)||Es(e,t,n,r,i,a))&(!Cr(i)||!h(a)||ks(e,t,n,r,i,a)))&&(!kn(i)||Vr(e,t,n,r,i,a));return e.Pop(i),o}const Us=new Map;function Ws(e,t,n,r){return e.UseUnevaluated()?N(`check_${n}`,[`context`,r]):N(`check_${n}`,[r])}function Gs(e,t,n,r){let i=Z(e,t,n,`value`);return t.UseUnevaluated()?I(`check_${r}`,M([`context`,`value`],i)):I(`check_${r}`,M([`value`],i))}function Ks(){Us.clear()}function qs(){return[...Us.values()]}function Js(e,t,n,r){let i=W(n)?fn({__baseURL:e.BaseURL().href,...n}):fn(n),a=Ws(t,n,i,r);return Us.has(i)?a:(Us.set(i,``),Us.set(i,Gs(e,t,n,i)),a)}function Ys(e,t){return h(t)?t[e]:void 0}function Xs(e,t){return e.reduce((e,t)=>Ys(t,e),t)}function Zs(e){if(v(e.length,0))return[];let t=e.split(`/`).map(e=>e.replace(/~1/g,`/`).replace(/~0/g,`~`));return t.length>0&&t[0]===``?t.slice(1):t}function Qs(e,t){return Xs(Zs(t),e)}function $s(e,t,n){if(e.$id===n.hash)return e;let r=new URL(e.$id,t.href),i=new URL(n.href,t.href);if(v(r.pathname,i.pathname))return n.hash.startsWith(`#`)?tc(e,t,n):e}function ec(e,t,n){let r=new URL(`#${e.$anchor}`,t.href),i=new URL(n.href,t.href);if(v(r.href,i.href))return e}function tc(e,t,n){return n.href.endsWith(`#`)?e:n.hash.startsWith(`#`)?Qs(e,decodeURIComponent(n.hash.slice(1))):void 0}function nc(e,t,n){if(qn(e)){let r=$s(e,t,n);if(!_(r))return r}if(Pn(e)){let r=ec(e,t,n);if(!_(r))return r}return tc(e,t,n)}function rc(e,t,n){return e.reduce((e,r)=>{let i=ac(r,t,n);return _(i)?e:i},void 0)}function ic(e,t,n){return w(e).reduce((r,i)=>{let a=ac(e[i],t,n);return _(a)?r:a},void 0)}function ac(e,t,n){if(t=W(e)&&qn(e)?new URL(e.$id,t.href):t,W(e)){let r=nc(e,t,n);if(!_(r))return r}if(d(e))return rc(e,t,n);if(h(e))return ic(e,t,n)}function oc(e,t){let n=new URL(`http://unknown`),r=qn(e)?new URL(e.$id,n.href):n;return ac(e,r,new URL(t,r.href))}var sc=class{constructor(e,t){this.context=e,this.schema=t,this.ids=[],this.anchors=[],this.recursiveAnchors=[],this.dynamicAnchors=[]}BaseURL(){return this.ids.reduce((e,t)=>new URL(t.$id,e),new URL(`http://unknown`))}Base(){return this.ids[this.ids.length-1]??this.schema}Push(e){W(e)&&(qn(e)&&this.ids.push(e),Pn(e)&&this.anchors.push(e),gr(e)&&this.recursiveAnchors.push(e),Vn(e)&&this.dynamicAnchors.push(e))}Pop(e){W(e)&&(qn(e)&&this.ids.pop(),Pn(e)&&this.anchors.pop(),gr(e)&&this.recursiveAnchors.pop(),Vn(e)&&this.dynamicAnchors.pop())}FromContext(e){return S(this.context,e)?this.context[e]:void 0}FromRef(e){return e.startsWith(`#`)?oc(this.Base(),e):oc(this.schema,e)}Ref(e){return this.FromContext(e)??this.FromRef(e)}RecursiveRef(e){return gr(this.Base())?oc(this.recursiveAnchors[0],e):oc(this.Base(),e)}};function cc(e){return`${e.Functions().join(`;
`)}; return (value) => { ${(e.UseUnevaluated()?[`const context = new CheckContext({}, {})`,`return ${e.Call()}`]:[`return ${e.Call()}`]).join(`; `)} }`}function lc(e,t){return new globalThis.Function(`CheckContext`,`Guard`,`Format`,`Hashing`,e.External().identifier,t)(q,ae,Pa,zt,e.External().variables)}function uc(e){let t=new sc(e.Context(),e.Schema()),n=new q;return r=>Q(t,n,e.Schema(),r)}function dc(e,t){return Rt()?lc(e,t):uc(e)}var fc=class{constructor(e,t,n,r,i,a){this.context=e,this.schema=t,this.external=n,this.functions=r,this.call=i,this.useUnevaluated=a}Context(){return this.context}Schema(){return this.schema}UseUnevaluated(){return this.useUnevaluated}External(){return this.external}Functions(){return this.functions}Call(){return this.call}Evaluate(){let e=cc(this),t=dc(this,e);return{IsEvaluated:Rt(),Code:e,Check:t}}};function pc(...e){let[t,n]=jt(e,{2:(e,t)=>[e,t],1:e=>[{},e]});Nr(),Ks();let r=new sc(t,n),i=new Or(Dr(t,n)),a=Js(r,i,n,`value`),o=qs();return new fc(t,n,Fr(),o,a,i.UseUnevaluated())}function mc(...e){let[t,n,r]=jt(e,{3:(e,t,n)=>[e,t,n],2:(e,t)=>[{},e,t]}),i=wt(),a=hn(),o=[];return[$(new sc(t,n),new kr(e=>{if(!ge(o.length,i.maxErrors))return o.push({...e,message:a(e)})}),`#`,``,n,r),o]}var hc=class{constructor(e,t,n){this.schema=e,this.value=t,this.errors=n}},gc=class{constructor(e,t){this.build=pc(e,t),this.result=this.build.Evaluate()}Check(e){return this.result.Check(e)}Parse(e){if(this.result.Check(e))return e;let[t,n]=mc(this.build.Context(),this.build.Schema(),e);throw new hc(this.build.Context(),this.build.Schema(),n)}Errors(e){return mc(this.build.Context(),this.build.Schema(),e)}};function _c(...e){let[t,n]=jt(e,{2:(e,t)=>[e,t],1:e=>[{},e]});return new gc(t,n)}const vc=_n(Cn({}),e=>e instanceof Date),yc=xn({id:H(),created:vc,title:U({minLength:1,maxLength:100}),type:Pt([`jpg`,`png`]),size:H(),url:U({format:`url`})}),bc=xn({id:H(),stars:H({minimum:1,maximum:5}),title:U({minLength:1,maxLength:100}),text:U({minLength:1,maxLength:1e3}),images:At(yc)});_c(xn({id:H(),created:vc,title:U({minLength:1,maxLength:100}),brand:U({minLength:1,maxLength:30}),description:U({minLength:1,maxLength:500}),price:H({minimum:1,maximum:1e4}),discount:Sn([H({minimum:1,maximum:100}),yn()]),quantity:H({minimum:1,maximum:10}),tags:At(U({minLength:1,maxLength:30})),images:At(yc),ratings:At(bc)})).Parse({});